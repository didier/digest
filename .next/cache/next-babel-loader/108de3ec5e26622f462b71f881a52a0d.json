{"ast":null,"code":"var _jsxFileName = \"/Users/didier/Projects/digest/src/components/molecules/Article/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { post, favicon, shares } from './Article.module.scss';\nimport { useEffect, useState } from 'react';\n\nconst Article = ({\n  article,\n  excerpt\n}) => {\n  const {\n    title,\n    url,\n    author,\n    source,\n    sourceUrl,\n    post\n  } = article;\n  const rawUrl = sourceUrl.replace('https://', '').replace('http://', '');\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  const {\n    0: isLoaded,\n    1: setIsLoaded\n  } = useState(false);\n  const {\n    0: items,\n    1: setItems\n  } = useState([]); // Note: the empty deps array [] means\n  // this useEffect will run once\n  // similar to componentDidMount()\n\n  useEffect(() => {\n    fetch(`/api/shares?url=${url}`).then(res => res.json()).then(result => {\n      setItems(result);\n      setIsLoaded(true);\n      console.log(result);\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      setIsLoaded(true);\n      setError(error);\n    });\n  }, []);\n  return __jsx(\"article\", {\n    className: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    href: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, title)), __jsx(\"p\", {\n    className: \"excerpt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, excerpt ? `${post.slice(0, 140)}...` : post), __jsx(\"cite\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    className: favicon,\n    src: `https://api.faviconkit.com/${rawUrl}/144`,\n    alt: `${rawUrl} logo.`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), ` — ${author}, `, __jsx(\"a\", {\n    href: sourceUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 127\n    }\n  }, source)), __jsx(\"h6\", {\n    className: shares,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, isLoaded === true ? new Intl.NumberFormat().format(items['Facebook']['share_count']) : 'Loading', \" shares\", isLoaded === true ? null : '...'));\n};\n\nexport default Article;","map":{"version":3,"sources":["/Users/didier/Projects/digest/src/components/molecules/Article/index.js"],"names":["post","favicon","shares","useEffect","useState","Article","article","excerpt","title","url","author","source","sourceUrl","rawUrl","replace","error","setError","isLoaded","setIsLoaded","items","setItems","fetch","then","res","json","result","console","log","slice","Intl","NumberFormat","format"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,OAAf,EAAwBC,MAAxB,QAAsC,uBAAtC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAA0B;AACxC,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,GAFI;AAGJC,IAAAA,MAHI;AAIJC,IAAAA,MAJI;AAKJC,IAAAA,SALI;AAMJZ,IAAAA;AANI,MAOFM,OAPJ;AASA,QAAMO,MAAM,GACVD,SAAS,CACNE,OADH,CACW,UADX,EACuB,EADvB,EAEGA,OAFH,CAEW,SAFX,EAEsB,EAFtB,CADF;AAKA,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBZ,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM;AAAA,OAACa,QAAD;AAAA,OAAWC;AAAX,MAA0Bd,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM;AAAA,OAACe,KAAD;AAAA,OAAQC;AAAR,MAAoBhB,QAAQ,CAAC,EAAD,CAAlC,CAjBwC,CAmBxC;AACA;AACA;;AACAD,EAAAA,SAAS,CAAC,MAAM;AACdkB,IAAAA,KAAK,CAAE,mBAAkBZ,GAAI,EAAxB,CAAL,CACGa,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAGKG,MAAD,IAAY;AACVL,MAAAA,QAAQ,CAACK,MAAD,CAAR;AACAP,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAED,KARL,EASI;AACA;AACA;AACCV,IAAAA,KAAD,IAAW;AACTG,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAF,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,KAfL;AAiBD,GAlBQ,EAkBN,EAlBM,CAAT;AAsBA,SACE;AAAS,IAAA,SAAS,EAAEf,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI;AAAG,IAAA,IAAI,EAAES,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAeD,KAAf,CAAJ,CAFF,EAGE;AAAG,IAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,OAAO,GAAI,GAAEP,IAAI,CAAC4B,KAAL,CAAW,CAAX,EAAc,GAAd,CAAmB,KAAzB,GAAgC5B,IAD1C,CAHF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEC,OAAhB;AAAyB,IAAA,GAAG,EAAG,8BAA6BY,MAAO,MAAnE;AAA0E,IAAA,GAAG,EAAG,GAAEA,MAAO,QAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EACwG,MAAKH,MAAO,IADpH,EACwH;AAAG,IAAA,IAAI,EAAEE,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqBD,MAArB,CADxH,CANF,EAQE;AAAI,IAAA,SAAS,EAAET,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGe,QAAQ,KAAK,IAAb,GAEG,IAAIY,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+BZ,KAAK,CAAC,UAAD,CAAL,CAAkB,aAAlB,CAA/B,CAFH,GAGK,SAJR,aAI0BF,QAAQ,KAAK,IAAb,GAAoB,IAApB,GAA2B,KAJrD,CARF,CADF;AAiBD,CA7DD;;AA+DA,eAAeZ,OAAf","sourcesContent":["import { post, favicon, shares } from './Article.module.scss'\nimport { useEffect, useState } from 'react'\n\nconst Article = ({ article, excerpt }) => {\n  const {\n    title,\n    url,\n    author,\n    source,\n    sourceUrl,\n    post\n  } = article\n\n  const rawUrl =\n    sourceUrl\n      .replace('https://', '')\n      .replace('http://', '')\n\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n\n  // Note: the empty deps array [] means\n  // this useEffect will run once\n  // similar to componentDidMount()\n  useEffect(() => {\n    fetch(`/api/shares?url=${url}`)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          setItems(result);\n          setIsLoaded(true);\n          console.log(result);\n\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      )\n  }, [])\n\n\n\n  return (\n    <article className={post}>\n\n      <h2><a href={url}>{title}</a></h2>\n      <p className=\"excerpt\">\n        {excerpt ? `${post.slice(0, 140)}...` : post}\n      </p>\n      <cite>\n        <img className={favicon} src={`https://api.faviconkit.com/${rawUrl}/144`} alt={`${rawUrl} logo.`} />{` — ${author}, `}<a href={sourceUrl}>{source}</a></cite>\n      <h6 className={shares}>\n        {isLoaded === true ?\n          (\n            new Intl.NumberFormat().format(items['Facebook']['share_count'])\n          ) : 'Loading'} shares{isLoaded === true ? null : '...'}\n      </h6>\n    </article>\n  )\n}\n\nexport default Article\n"]},"metadata":{},"sourceType":"module"}