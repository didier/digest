{"ast":null,"code":"module.exports = (req, res) => {\n  const {\n    query: {\n      url\n    }\n  } = req;\n\n  if (url !== '') {\n    let shares;\n    fetch(`https://api.sharedcount.com/v1.0/?apikey=${API_KEY}&url=${url}`).then(res => res.json()).then(result => {\n      // console.log(result);\n      // setIsLoaded(true);\n      let shares = result; // setItems(result);\n      // setShares(items.Facebook + items.Pinterest)\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      // setIsLoaded(true);\n      // setError(error);\n      throw new Error(error);\n    });\n  }\n\n  res.send(`Query: ${url}`);\n};","map":{"version":3,"sources":["/Users/didier/Projects/digest/src/pages/api/shares.js"],"names":["module","exports","req","res","query","url","shares","fetch","API_KEY","then","json","result","error","Error","send"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7B,QAAM;AAAEC,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF;AAAT,MAAqBH,GAA3B;;AACA,MAAIG,GAAG,KAAK,EAAZ,EAAgB;AAEd,QAAIC,MAAJ;AACAC,IAAAA,KAAK,CAAE,4CAA2CC,OAAQ,QAAOH,GAAI,EAAhE,CAAL,CACGI,IADH,CACQN,GAAG,IAAIA,GAAG,CAACO,IAAJ,EADf,EAEGD,IAFH,CAGKE,MAAD,IAAY;AACV;AAEA;AACA,UAAIL,MAAM,GAAGK,MAAb,CAJU,CAKV;AACA;AACD,KAVL,EAWI;AACA;AACA;AACCC,IAAAA,KAAD,IAAW;AACT;AACA;AACA,YAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACD,KAlBL;AAsBD;;AACDT,EAAAA,GAAG,CAACW,IAAJ,CAAU,UAAST,GAAI,EAAvB;AACD,CA7BD","sourcesContent":["module.exports = (req, res) => {\n  const { query: { url } } = req\n  if (url !== '') {\n\n    let shares;\n    fetch(`https://api.sharedcount.com/v1.0/?apikey=${API_KEY}&url=${url}`)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          // console.log(result);\n\n          // setIsLoaded(true);\n          let shares = result\n          // setItems(result);\n          // setShares(items.Facebook + items.Pinterest)\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          // setIsLoaded(true);\n          // setError(error);\n          throw new Error(error)\n        }\n      )\n\n\n  }\n  res.send(`Query: ${url}`)\n}\n"]},"metadata":{},"sourceType":"script"}