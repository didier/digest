{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/didier/Projects/digest/src/components/molecules/Article/index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { post, favicon, shares } from './Article.module.scss';\nimport { useEffect, useState } from 'react';\n\nvar Article = function Article(_ref) {\n  var article = _ref.article,\n      excerpt = _ref.excerpt;\n  var title = article.title,\n      url = article.url,\n      author = article.author,\n      source = article.source,\n      sourceUrl = article.sourceUrl,\n      post = article.post;\n  var rawUrl = sourceUrl.replace('https://', '').replace('http://', '');\n\n  var _useState = useState(null),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoaded = _useState2[0],\n      setIsLoaded = _useState2[1];\n\n  var _useState3 = useState([]),\n      items = _useState3[0],\n      setItems = _useState3[1]; // Note: the empty deps array [] means\n  // this useEffect will run once\n  // similar to componentDidMount()\n\n\n  useEffect(function () {\n    fetch(\"/api/shares?url=\".concat(url)).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      setItems(result);\n      setIsLoaded(true);\n      console.log(result);\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    function (error) {\n      setIsLoaded(true);\n      setError(error);\n    });\n  }, []);\n  return __jsx(\"article\", {\n    className: post,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, __jsx(\"a\", {\n    href: url,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, title)), __jsx(\"p\", {\n    className: \"excerpt\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, excerpt ? \"\".concat(post.slice(0, 140), \"...\") : post), __jsx(\"cite\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, __jsx(\"img\", {\n    className: favicon,\n    src: \"https://api.faviconkit.com/\".concat(rawUrl, \"/144\"),\n    alt: \"\".concat(rawUrl, \" logo.\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), \" \\u2014 \".concat(author, \", \"), __jsx(\"a\", {\n    href: sourceUrl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 127\n    }\n  }, source)), \"| \", __jsx(\"h6\", {\n    className: shares,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, isLoaded === true ? new Intl.NumberFormat().format(items['Facebook']['share_count']) : 'Loading', \" shares\", isLoaded === true ? null : '...'));\n};\n\nexport default Article;","map":{"version":3,"sources":["/Users/didier/Projects/digest/src/components/molecules/Article/index.js"],"names":["post","favicon","shares","useEffect","useState","Article","article","excerpt","title","url","author","source","sourceUrl","rawUrl","replace","error","setError","isLoaded","setIsLoaded","items","setItems","fetch","then","res","json","result","console","log","slice","Intl","NumberFormat","format"],"mappings":";;;;;AAAA,SAASA,IAAT,EAAeC,OAAf,EAAwBC,MAAxB,QAAsC,uBAAtC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAA0B;AAAA,MAAvBC,OAAuB,QAAvBA,OAAuB;AAAA,MAAdC,OAAc,QAAdA,OAAc;AAAA,MAEtCC,KAFsC,GAQpCF,OARoC,CAEtCE,KAFsC;AAAA,MAGtCC,GAHsC,GAQpCH,OARoC,CAGtCG,GAHsC;AAAA,MAItCC,MAJsC,GAQpCJ,OARoC,CAItCI,MAJsC;AAAA,MAKtCC,MALsC,GAQpCL,OARoC,CAKtCK,MALsC;AAAA,MAMtCC,SANsC,GAQpCN,OARoC,CAMtCM,SANsC;AAAA,MAOtCZ,IAPsC,GAQpCM,OARoC,CAOtCN,IAPsC;AAUxC,MAAMa,MAAM,GACVD,SAAS,CACNE,OADH,CACW,UADX,EACuB,EADvB,EAEGA,OAFH,CAEW,SAFX,EAEsB,EAFtB,CADF;;AAVwC,kBAedV,QAAQ,CAAC,IAAD,CAfM;AAAA,MAejCW,KAfiC;AAAA,MAe1BC,QAf0B;;AAAA,mBAgBRZ,QAAQ,CAAC,KAAD,CAhBA;AAAA,MAgBjCa,QAhBiC;AAAA,MAgBvBC,WAhBuB;;AAAA,mBAiBdd,QAAQ,CAAC,EAAD,CAjBM;AAAA,MAiBjCe,KAjBiC;AAAA,MAiB1BC,QAjB0B,kBAmBxC;AACA;AACA;;;AACAjB,EAAAA,SAAS,CAAC,YAAM;AACdkB,IAAAA,KAAK,2BAAoBZ,GAApB,EAAL,CACGa,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KADX,EAEGF,IAFH,CAGI,UAACG,MAAD,EAAY;AACVL,MAAAA,QAAQ,CAACK,MAAD,CAAR;AACAP,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAED,KARL,EASI;AACA;AACA;AACA,cAACV,KAAD,EAAW;AACTG,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAF,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,KAfL;AAiBD,GAlBQ,EAkBN,EAlBM,CAAT;AAsBA,SACE;AAAS,IAAA,SAAS,EAAEf,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI;AAAG,IAAA,IAAI,EAAES,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAeD,KAAf,CAAJ,CAFF,EAGE;AAAG,IAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,OAAO,aAAMP,IAAI,CAAC4B,KAAL,CAAW,CAAX,EAAc,GAAd,CAAN,WAAgC5B,IAD1C,CAHF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEC,OAAhB;AAAyB,IAAA,GAAG,uCAAgCY,MAAhC,SAA5B;AAA0E,IAAA,GAAG,YAAKA,MAAL,WAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,oBAC6GH,MAD7G,SACwH;AAAG,IAAA,IAAI,EAAEE,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqBD,MAArB,CADxH,CANF,QAQI;AAAI,IAAA,SAAS,EAAET,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCe,QAAQ,KAAK,IAAb,GAEG,IAAIY,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+BZ,KAAK,CAAC,UAAD,CAAL,CAAkB,aAAlB,CAA/B,CAFH,GAGK,SAJN,aAIwBF,QAAQ,KAAK,IAAb,GAAoB,IAApB,GAA2B,KAJnD,CARJ,CADF;AAiBD,CA7DD;;AA+DA,eAAeZ,OAAf","sourcesContent":["import { post, favicon, shares } from './Article.module.scss'\nimport { useEffect, useState } from 'react'\n\nconst Article = ({ article, excerpt }) => {\n  const {\n    title,\n    url,\n    author,\n    source,\n    sourceUrl,\n    post\n  } = article\n\n  const rawUrl =\n    sourceUrl\n      .replace('https://', '')\n      .replace('http://', '')\n\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n\n  // Note: the empty deps array [] means\n  // this useEffect will run once\n  // similar to componentDidMount()\n  useEffect(() => {\n    fetch(`/api/shares?url=${url}`)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          setItems(result);\n          setIsLoaded(true);\n          console.log(result);\n\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      )\n  }, [])\n\n\n\n  return (\n    <article className={post}>\n\n      <h2><a href={url}>{title}</a></h2>\n      <p className=\"excerpt\">\n        {excerpt ? `${post.slice(0, 140)}...` : post}\n      </p>\n      <cite>\n        <img className={favicon} src={`https://api.faviconkit.com/${rawUrl}/144`} alt={`${rawUrl} logo.`} />{` â€” ${author}, `}<a href={sourceUrl}>{source}</a></cite>\n      | <h6 className={shares}>\n        {isLoaded === true ?\n          (\n            new Intl.NumberFormat().format(items['Facebook']['share_count'])\n          ) : 'Loading'} shares{isLoaded === true ? null : '...'}\n      </h6>\n    </article>\n  )\n}\n\nexport default Article\n"]},"metadata":{},"sourceType":"module"}